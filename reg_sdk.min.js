var HD_REG=function(){"use strict";var r,e,t,a,n,o,u,d,c="0.0.1",s={productName:null,product:null,partnerId:null,partnerRefId:null,partnerSubId:null};return e=function(r,e,t){var a,n,o=d();o.onreadystatechange=function(){o._canceled||4===o.readyState&&(o.status>=200&&o.status<300?e(o):t(o),o.onreadystatechange=function(){})},o.open(r.type||"GET",r.url,!0,r.user,r.password),o.responseType=r.responseType||"",a={"Content-Type":"application/x-www-form-urlencoded"},r.headers=r.headers||a,Object.keys(r.headers||{}).forEach(function(e){o.setRequestHeader(e,r.headers[e])}),n="postdata=",r.data&&(n+=JSON.stringify(r.data)),o.send(n)},t=function(){return"https://www.free-hidrive.com/order"},u=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},o=function(r){var e;if(!r)return s;if("[object String]"===Object.prototype.toString.call(r))return u(s,r)?s[r]:null;for(e in s)s.hasOwnProperty(e)&&u(s,e)&&u(r,e)&&(s[e]=r[e])},r=function(r){var e=t();return e+=r},a=function(t,a,n,o){var u;u=r(t),e({type:"POST",url:u,data:a},function(r){if(200===r.status||201===r.status||204===r.status){var e=r.responseText;try{e=JSON.parse(e)}catch(r){}finally{n(e)}}else o(r)},function(r){var e=r.responseText;try{e=JSON.parse(e),e.status=r.status}catch(r){}o(e)})},n=function(r,e,t){a("/check_username",{username:r.username,country:r.country,language:r.language,product_name:o("productName"),product:o("product"),partner_id:o("partnerId"),partner_ref_id:o("partnerRefId"),partner_sub_id:o("partnerSubId")},function(n){n&&n.data?0===n.data.return_code?a("/check_email",{email:r.email,country:r.country,language:r.language,product_name:o("productName"),product:o("product"),partner_id:o("partnerId"),partner_ref_id:o("partnerRefId"),partner_sub_id:o("partnerSubId")},function(n){n&&n.data?0===n.data.return_code?a("/post_data",{data_values:{agb_check:r.agbcheck,email:r.email,username:r.username,password:r.password,country:r.country,language:r.language,captcha_number:r.captcha,product_name:o("productName"),product:o("product"),partner_id:o("partnerId"),partner_ref_id:o("partnerRefId"),partner_sub_id:o("partnerSubId")},country:r.country,language:r.language,product_name:o("productName"),product:o("product")},function(r){r&&r.data&&0===r.data.return_code?e(r):t(r&&r.data&&2===r.data.return_code?{error:"common-error"}:{error:"error-summary",errors:r.data.errors})},function(r){t(r&&r.data&&1===r.data.return_code?{error:"common-error"}:{error:"common-error"})}):t(1001===n.data.return_code?{error:"email-exists"}:{error:"email-invalid"}):t({error:"email-invalid"})},function(r){t(r&&r.data&&1===r.data.return_code?{error:"email-exists"}:{error:"common-error"})}):t(n.data.errors&&n.data.errors.length>0?{error:"username-invalid"}:{error:"username-exists"}):t({error:"common-error"})},function(r){t(r&&r.data&&1===r.data.return_code?{error:"username-exists"}:{error:"common-error"})})},d=function(){try{var r=new XMLHttpRequest;if("withCredentials"in d)return r;if("undefined"!=typeof XDomainRequest)return new XDomainRequest;throw new Error("Browser is not CORS capable")}catch(r){throw new Error("Browser is not CORS capable")}},{options:o,getOrderApiUrl:t,version:c,post:a,order:n,getFullUrl:r}}();